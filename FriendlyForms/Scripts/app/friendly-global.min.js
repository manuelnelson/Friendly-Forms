window.Friendly=window.Friendly||{},Friendly.properties={messageType:{Warning:"",Success:"alert-success",Error:"alert-error"},numberRegEx:/(\d{1,5})/},Friendly.StartLoading=function(){$("#loading").show(),$("body").css("cursor","wait")},Friendly.EndLoading=function(){$("#loading").hide(),$("body").css("cursor","default")},Friendly.ShowMessage=function(a,b,c,d){Friendly.EndLoading(),c=typeof c=="undefined"?Friendly.properties.messageType.Warning:c;var e={Title:a,Message:b,AlertType:c},f=$("#friendly-message-template").tmpl(e);typeof d=="undefined"&&(d="#main-content"),$(d).prepend(f)},Friendly.GenericErrorMessage=function(a,b,c){Friendly.EndLoading();if(a.responseText!=""&&a.responseText[0]!="<"){var d=JSON.parse(a.responseText);if(c==="Bad Request")return Friendly.ShowMessage("Input Error",d.ResponseStatus.Message,Friendly.properties.messageType.Error),!1}return Friendly.ShowMessage("Sorry!","We could not process your request.  The error has been logged and we will do our best to correct the error asap.",Friendly.properties.messageType.Error),!1},Friendly.SubmitForm=function(a,b,c){Friendly.StartLoading(),typeof c=="undefined"&&(c=Friendly.GetFormInput(a));var d="#"+a;if($(d).valid())$.ajax({url:"/Forms/"+a+"/",type:"POST",data:c,success:function(){return $("html, body").animate({scrollTop:0},"fast"),Friendly.NextForm(b),Friendly.EndLoading(),!1},error:Friendly.GenericErrorMessage});else return Friendly.EndLoading(),!1;return!1},Friendly.SubmitFormOther=function(a,b,c){Friendly.StartLoading(),typeof c=="undefined"&&(c=Friendly.GetFormInput(a)),c.isOtherParent="true";var d="#"+a,e=a.substring(0,a.indexOf("Other"));if($(d).valid())$.ajax({url:"/Forms/"+e+"/",type:"POST",data:c,success:function(){return $("html, body").animate({scrollTop:0},"fast"),Friendly.NextForm(b),Friendly.EndLoading(),!1},error:Friendly.GenericErrorMessage});else return Friendly.EndLoading(),!1;return!1},Friendly.NextForm=function(a){$("#sidebar .active").find("i").attr("class","icon-ok"),$("#"+a+"Nav").find("i").attr("class","icon-pencil"),$(".wrapper").hide(),$("#sidebar li").removeClass("active"),$("#"+a+"Wrapper").show(),$("#"+a+"Nav").addClass("active"),a==="preexistingOther"&&$('#preexistingOther input[id="PreexistingSupportViewModel_Support"]:checked').val()==="1"&&$("#supportOtherWrapper").show()},Friendly.GetFormInput=function(a){var b={};return $.each($("#"+a).serializeArray(),function(a,c){c.name.indexOf(".")>=0&&(c.name=c.name.substring(c.name.indexOf(".")+1,c.name.length)),b[c.name]=c.value}),b},Friendly.ClearForm=function(a){$(":input","#"+a).not(":button, :submit, :reset, :hidden, :radio").val("").removeAttr("selected"),$(":input","#"+a).not(":button, :submit, :reset, :hidden,").removeAttr("checked").removeAttr("selected")},$(document).ready(function(){$(".hoverHelp").popover({placement:"left",title:"Tip",trigger:"hover"}),$.validator.addMethod("textlineinput",function(a,b,c){return this.optional(b)?!0:a.split("\\")[0]===c}),$.validator.unobtrusive.adapters.add("textlineinput",["name"],function(a){a.rules.textlineinput=a.params.name,a.message&&(a.messages.textlineinput=a.message)});var a=$("form"),b=[],c=[],d=[];for(var e=0;e<a.length;e++){var f=$.data(a[e],"validator").settings;b[e]=f.errorPlacement,c[e]=f.success,d[e]=f.invalidHandler,f.formNdx=e,f.errorPlacement=function(c,d){$(d).closest(".control-group").addClass("error"),!!$.data(a[this.formNdx],"validator").valid(),b[this.formNdx](c,d)},f.success=function(a){$(a).closest(".control-group").removeClass("error"),c[this.formNdx](a)},f.invalidHandler=function(a){d[this.formNdx]()}}$(".datepicker").datepicker(),$(".timepicker").timepicker({minuteStep:15,showInputs:!1,disableFocus:!0}),$("#main-content").on("click",".close",function(){$(this).parent().parent().parent().remove()}),$(".nav-item").click(function(){var a=$(this).children(":first-child").attr("data-form");Friendly.NextForm(a)})})