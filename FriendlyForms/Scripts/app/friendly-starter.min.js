$(function(a){function b(){var b=a("#PlaintiffCustodialParent:checked").val();if(typeof b=="undefined")return;var c,d;b==="1"?(c=a("#PlaintiffRelationship:checked").parent().text().trim(),d=a("#DefendantRelationship:checked").parent().text().trim(),a(".nonCustodial").text(d),a(".custodial").text(c)):(c=a("#DefendantRelationship:checked").parent().text().trim(),d=a("#PlaintiffRelationship:checked").parent().text().trim(),a(".nonCustodial").text(d),a(".custodial").text(c))}a("#child-part1").click(function(){Friendly.SubmitForm("court","participant")}),a("input[name=PlanType]").change(function(){a("#PlanDate").val(""),a("#PlanType:checked").val()==="1"?a(".court-date").hide():a(".court-date").show()}),a(".child-part2").click(function(){a("#PlaintiffsName").attr("readonly","readonly"),a("#DefendantsName").attr("readonly","readonly"),a(this).hasClass("next")&&Friendly.SubmitForm("participant","child")}),a("input[name=PlaintiffRelationship]").change(function(){var c=a("#PlaintiffRelationship:checked").val();switch(c){case"1":a('#DefendantRelationship[value="2"]').attr("checked","checked");break;case"2":a('#DefendantRelationship[value="1"]').attr("checked","checked");break;case"3":a('#DefendantRelationship[value="4"]').attr("checked","checked")}b()}),a("input[name=DefendantRelationship]").change(function(){var c=a("#DefendantRelationship:checked").val();switch(c){case"1":a('#PlaintiffRelationship[value="2"]').attr("checked","checked");break;case"2":a('#PlaintiffRelationship[value="1"]').attr("checked","checked");break;case"4":a('#PlaintiffRelationship[value="3"]').attr("checked","checked")}b()}),a("input[name=PlaintiffCustodialParent]").change(function(){var c=a("#PlaintiffCustodialParent:checked").val();switch(c){case"1":a('#DefendantCustodialParent[value="2"]').attr("checked","checked");break;case"2":a('#DefendantCustodialParent[value="1"]').attr("checked","checked");break;case"3":a('#DefendantCustodialParent[value="3"]').attr("checked","checked")}b()}),a("input[name=DefendantCustodialParent]").change(function(){var c=a("#DefendantCustodialParent:checked").val();switch(c){case"1":a('#PlaintiffCustodialParent[value="2"]').attr("checked","checked");break;case"2":a('#PlaintiffCustodialParent[value="1"]').attr("checked","checked");break;case"3":a('#PlaintiffCustodialParent[value="3"]').attr("checked","checked")}b()}),b(),a("input[id=ChildFormViewModel_ChildrenInvolved]").change(function(){a("#child")[0].reset(),a("#ChildFormViewModel_ChildrenInvolved:checked").val()==="1"?a(".child-info").show():a(".child-info").hide()}),a(".childEdit").live("click",function(){var b=a(this).parent().parent(),c=b.children(".child-name").html();b.children(".child-name").empty().append("<input data-val='true' class='input-small' data-val-regex='Only alpha-numeric characters and []@$()'!~:#&amp;_,/-?% are allowed.' data-val-regex-pattern='^(?!.*--)[A-Za-z0-9.?=+s.[]@$()'!~:#/&amp;_-,%]*$' data-val-required='The Name field is required.' id='Name' name='Name' placeholder='Name' type='text' value='"+c+"'>");var d=b.children(".child-dob").html();b.children(".child-dob").empty().append("<input class='datepicker' data-date='01/18/2013' data-val='true' data-val-regex='Date must be in mm/dd/yyyy format' data-val-regex-pattern='^(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)dd$' data-val-required='The Date of Birth field is required.' id='DateOfBirth' name='DateOfBirth' placeholder='MM/DD/YYYY' type='text' value='"+d+"'>"),b.find(".childEdit, .childDelete").hide(),a(".datepicker").datepicker(),b.find(".childDone").show()}),a(".childDone").live("click",function(){var b=a(this).parent().parent(),c=b.find(".child-name #Name").val(),d=b.find(".child-dob #DateOfBirth").val(),e={Id:a(this).attr("data-id"),Name:c,DateOfBirth:d,ChildFormId:a("#childFormId").val()};a.ajax({url:"/api/Child?format=json",type:"PUT",data:e,success:function(){return b.children(".child-name").empty().append(c),b.children(".child-dob").empty().append(d),b.find(".childEdit, .childDelete").show(),b.find(".childDone").hide(),!1},error:Friendly.GenericErrorMessage})}),a(".childDelete").live("click",function(){var b=a(this).parent().parent(),c=b.find(".child-name").text(),d=b.find(".child-dob").text().trim(),e="Id="+a(this).attr("data-id")+"&UserId="+a("#user-id").val()+"&Name="+c+"&DateOfBirth="+d+"&ChildFormId="+a("#childFormId").val();a.ajax({url:"/api/Child?"+e+"&format=json",type:"DELETE",success:function(){return b.remove(),!1},error:Friendly.GenericErrorMessage})}),a("#addChild").click(function(){Friendly.StartLoading();var b="child";if(!a("#"+b).valid())return Friendly.EndLoading(),!1;var c=Friendly.GetFormInput("childForm");return a.ajax({url:"/api/ChildForm?format=json",type:"POST",data:c,success:function(c){var d=Friendly.GetFormInput(b);d.ChildFormId=c.ChildForm.Id,a("#childForm").hide(),a("#childFormId").val(d.ChildFormId),a.ajax({url:"/api/Child?format=json",type:"POST",data:d,success:function(c){var d=a("#friendly-child-template").tmpl(c.Child);return a(".child-table").show(),a(".child-table tbody").append(d),Friendly.EndLoading(),a("#"+b)[0].reset(),!1},error:Friendly.GenericErrorMessage})},error:Friendly.GenericErrorMessage}),!1}),a(".child-part3").click(function(){var b=a(this);b.text()=="Continue"?(b.text("Next Form"),Friendly.ShowMessage("Please note","Before proceeding, please review the data you entered as you will not be able to edit this data past this point.",Friendly.properties.messageType.Success,"#starterWarning")):a(".child-table tr").length>1?document.location.href="/Forms/Parenting/":document.location.href="/Forms/DomesticMediation/"})})