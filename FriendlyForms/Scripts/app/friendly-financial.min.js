$(function(a){a("#childCareForm #ChildrenInvolved").change(function(){a("#childCareForm #ChildrenInvolved:checked").val()==="1"?a("#childCare-show").show():a("#childCare-show").hide(),Friendly.StartLoading();var b="childCareForm",c=Friendly.GetFormInput(b),d="POST";typeof c.Id!="undefined"&&c.Id!="0"&&c.Id!=""?d="PUT":c.Id=0,a("#"+b).valid()&&a.ajax({url:"/api/"+b+"/?format=json",type:d,data:c,success:function(){Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-childcare").click(function(){if(!Financial.AddChildCare(this)){var b=Friendly.children[Friendly.childNdx-1];Friendly.ChildCareError.push(b.Name);if(a(this).hasClass("next")&&Friendly.childNdx===Friendly.children.length){Friendly.NextForm("extraExpense",Friendly.properties.iconError);return}a("html, body").animate({scrollTop:0},"fast");var c=Friendly.children[Friendly.childNdx];Financial.GetChildCare(c),Friendly.EndLoading()}}),window.location.href.indexOf("/Forms/Financial")!==-1&&Friendly.NextForm("childCare","icon-pencil icon-blue"),a("#extraExpenseForm #HasExtraExpenses").change(function(){a("#extraExpenseForm #HasExtraExpenses:checked").val()==="1"?a("#extraExpense-show").show():a("#extraExpense-show").hide(),Friendly.StartLoading();var b="extraExpenseForm",c=Friendly.GetFormInput(b),d="POST";typeof c.Id!="undefined"&&c.Id!="0"&&c.Id!=""?d="PUT":c.Id=0,a("#"+b).valid()&&a.ajax({url:"/api/"+b+"/?format=json",type:d,data:c,success:function(){Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-extraExpense").click(function(){if(!Financial.AddExtraExpense(this)){var b=Friendly.children[Friendly.childNdx-1];Friendly.ExtraExpenseError.push(b.Name);if(a(this).hasClass("next")&&Friendly.childNdx===Friendly.children.length){Friendly.NextForm("healths",Friendly.properties.iconError);return}if(a(this).hasClass("previous")&&Friendly.childNdx<0){Friendly.NextForm("childCare",Friendly.properties.iconError);return}a("html, body").animate({scrollTop:0},"fast");var c=Friendly.children[Friendly.childNdx];Financial.GetExtraExpense(c),Friendly.EndLoading()}}),a(".financial-part5").click(function(){Friendly.SubmitForm("healths","deviations")}),a('#healths input[name="ProvideHealth"]').change(function(){a("#healths #health-provide input").val(""),a("#healths #ProvideHealth:checked").val()==="1"?a("#healths #health-provide").show():a("#healths #health-provide").hide()}),a("#healths .percent").focusout(function(){var b=a.grep(a("#healths .percent"),function(b,c){return a(b).val()!=""}),c=0;b.length==2&&(c=100-(parseFloat(a(b[0]).val())+parseFloat(a(b[1]).val())),b=a.grep(a("#healths .percent"),function(b,c){return a(b).val()===""}),a(b).val(c))}),a(".financial-deviations").click(function(){if(!Financial.AddDeviations(this)){var b=Friendly.children[Friendly.childNdx-1];Friendly.DeviationsError.push(b.Name);if(a(this).hasClass("next")&&Friendly.childNdx===Friendly.children.length){Friendly.NextForm("income",Friendly.properties.iconError);return}if(a(this).hasClass("previous")&&Friendly.childNdx<0){Friendly.NextForm("extraExpense",Friendly.properties.iconError);return}a("html, body").animate({scrollTop:0},"fast");var c=Friendly.children[Friendly.childNdx];Financial.GetDeviations(c),Friendly.EndLoading()}}),a('#deviationsForm input[name="Deviation"]').change(function(){a("#deviationsForm #Deviation:checked").val()==="1"?a("#deviationsWrapper #deviations-show").show():a("#deviationsWrapper #deviations-show").hide(),Friendly.StartLoading();var b="deviationsForm",c=Friendly.GetFormInput(b),d="POST";typeof c.Id!="undefined"&&c.Id!="0"&&c.Id!=""?d="PUT":c.Id=0,a("#"+b).valid()&&a.ajax({url:"/api/"+b+"/?format=json",type:d,data:c,success:function(){Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a('input[name="HighLow"]').live("change",function(){a("#HighLow:checked").val()==="1"?(a(".deviation-high").show(),a(".deviation-low").hide()):(a(".deviation-low").show(),a(".deviation-high").hide())}),a(".financial-part1").click(function(){Friendly.SubmitForm("income","socialSecurity")}),a('#income input[name="HaveSalary"]').change(function(){a("#income #HaveSalary:checked").val()==="1"?(a("#income .income-salary").show(),a("#income .income-nosalary").hide()):(a("#income .income-salary").hide(),a("#income .income-nosalary").show())}),a('#income input[name="NonW2Income"]').change(function(){a("#income #NonW2Income:checked").val()==="1"?a("#income .income-nonW2").show():a("#income .income-nonW2").hide()}),a(".financial-part2").click(function(){Friendly.SubmitForm("socialSecurity","preexistingSupportForm")}),a('#socialSecurity input[name="ReceiveSocial"]').change(function(){a("#socialSecurity #Amount").val(""),a("#socialSecurity #ReceiveSocial:checked").val()==="1"?a("#socialSecurity .social-social").show():a("#socialSecurity .social-social").hide()}),a('#preexistingSupportForm input[id="PreexistingSupportFormViewModel_Support"]').change(function(){a('#preexistingSupportForm input[id="PreexistingSupportFormViewModel_Support"]:checked').val()==="1"?a("#supportWrapper").show():a("#supportWrapper").hide(),Friendly.StartLoading();var b="preexistingSupportForm",c=Friendly.GetFormInput(b),d="POST";typeof c.Id!="undefined"&&c.Id!="0"&&c.Id!=""?d="PUT":c.Id=0,a("#"+b).valid()&&a.ajax({url:"/api/"+b+"/?format=json",type:d,data:c,success:function(){Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#addSupport").click(function(){Friendly.StartLoading();var b="support",c=Friendly.GetFormInput(b);a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupport/?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-support-template").tmpl(c.PreexistingSupport);a("#supportWrapper .support-table tbody").append(d),a("#supportWrapper .support-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#supportWrapper table").on("click",".view-children",function(){var b=a(this).attr("data-id");a.ajax({url:"/api/PreexistingSupportChild/"+b+"/?format=json",type:"GET",success:function(c){if(c.Children.length!==0){a("#childWrapper .child-table tbody").empty();var d=a("#friendly-childsupport-template").tmpl(c.Children);a("#childWrapper .child-table tbody").append(d),a("#childWrapper .child-table").show()}else a("#childWrapper .child-table").hide();a("#childWrapper #supportId").val(b),a("#childWrapper").show()},error:Friendly.GenericErrorMessage})}),a("#addChildSupport").click(function(){Friendly.StartLoading();var b="child",c=Friendly.GetFormInput(b);c.PreexistingSupportId=a("#childWrapper #supportId").val(),a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupportChild?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.Child);a("#childWrapper .child-table tbody").append(d),a("#childWrapper .child-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-part3").click(function(){Friendly.NextForm("otherChildren",Friendly.properties.iconSuccess)}),a(".financial-part4").click(function(){if(a("#otherChildWrapper").is(":visible"))return Friendly.NextForm("deviationsOther",Friendly.properties.iconSuccess),!1;Friendly.StartLoading();var b=Friendly.GetFormInput("otherChildren");a("#otherChildren").valid()&&a.ajax({url:"/api/OtherChildren/?format=json",type:"POST",data:b,success:function(c){b.LegallyResponsible==="1"&&b.AtHome==="1"&&b.Support==="1"&&b.Preexisting==="2"&&b.InCourt==="2"?(a("#otherChildWrapper #childrenId").val(c.Id),a("#otherChildWrapper").show()):Friendly.NextForm("deviationsOther",Friendly.properties.iconSuccess),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#addOtherChild").click(function(){Friendly.StartLoading();var b="otherchild",c=Friendly.GetFormInput(b);c.OtherChildrenId=a("#otherChildWrapper #childrenId").val(),a("#"+b).valid()&&a.ajax({url:"/api/"+b+"?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.OtherChild);a("#otherChildWrapper .otherChild-table tbody").append(d),a("#otherChildWrapper .otherChild-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-deviationsOther").click(function(){if(!Financial.AddDeviationsOther(this)){var b=Friendly.children[Friendly.childNdx-1];Friendly.DeviationsError.push(b.Name);if(a(this).hasClass("next")&&Friendly.childNdx===Friendly.children.length){Friendly.NextForm("incomeOther",Friendly.properties.iconError);return}if(a(this).hasClass("previous")&&Friendly.childNdx<0){Friendly.NextForm("otherChildren",Friendly.properties.iconError);return}a("html, body").animate({scrollTop:0},"fast");var c=Friendly.children[Friendly.childNdx];Financial.GetDeviationsOther(c),Friendly.EndLoading()}}),a('#deviationsOtherForm input[name="Deviation"]').change(function(){a("#deviationsOtherForm #Deviation:checked").val()==="1"?a("#deviationsOtherWrapper #deviations-show").show():a("#deviationsOtherWrapper #deviations-show").hide(),Friendly.StartLoading();var b="deviationsOtherForm",c=Friendly.GetFormInput(b),d="POST";typeof c.Id!="undefined"&&c.Id!="0"&&c.Id!=""?d="PUT":c.Id=0,a("#"+b).valid()&&a.ajax({url:"/api/deviationsForm/?format=json",type:d,data:c,success:function(){Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a('#deviationsOther input[name="HighLow"]').live("change",function(){a("#deviationsOther #HighLow:checked").val()==="1"?(a("#deviationsOther .deviation-high").show(),a("#deviationsOther .deviation-low").hide()):(a("#deviationsOther .deviation-low").show(),a("#deviationsOther .deviation-high").hide())}),a('#incomeOther input[name="Employed"]').change(function(){a("#incomeOther #Salary").val(""),a("#incomeOther #Employed:checked").val()==="1"?a("#incomeOther .income-employed").show():a("#incomeOther .income-employed").hide()}),a('#incomeOther input[name="SelfEmployed"]').change(function(){a("#incomeOther #SelfIncome").val(""),a("#incomeOther #SelfEmployed:checked").val()==="1"?a("#incomeOther .income-self").show():a("#incomeOther .income-self").hide()}),a('#incomeOther input[name="SelfTax"]').change(function(){a("#incomeOther #SelfTaxAmount").val(""),a("#incomeOther #SelfTax:checked").val()==="1"?a("#incomeOther .income-tax").show():a("#incomeOther .income-tax").hide()}),a('#incomeOther input[name="OtherSources"]').change(function(){a("#incomeOther #OtherSources:checked").val()==="1"?a("#incomeOther .income-other").show():a("#incomeOther .income-other").hide()}),a(".financial-part6").click(function(){Friendly.SubmitForm("incomeOther","socialSecurityOther")}),a(".financial-part7").click(function(){Friendly.SubmitForm("socialSecurityOther","preexistingSupportFormOther")}),a('#socialSecurityOther input[name="ReceiveSocial"]').change(function(){a("#socialSecurityOther #Amount").val(""),a("#socialSecurityOther #ReceiveSocial:checked").val()==="1"?a("#socialSecurityOther .social-social").show():a("#socialSecurityOther .social-social").hide()}),a('#preexistingSupportFormOther input[id="PreexistingSupportFormViewModel_Support"]').change(function(){a('#preexistingSupportFormOther input[id="PreexistingSupportFormViewModel_Support"]:checked').val()==="1"?a("#supportOtherWrapper").show():a("#supportOtherWrapper").hide(),Friendly.StartLoading();var b="preexistingSupportFormOther",c=Friendly.GetFormInput(b),d="POST";typeof c.Id!="undefined"&&c.Id!="0"&&c.Id!=""?d="PUT":c.Id=0,c.isOtherParent=!0,a("#"+b).valid()&&a.ajax({url:"/api/preexistingSupportForm/?format=json",type:d,data:c,success:function(){Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#addSupportOther").click(function(){Friendly.StartLoading();var b="supportOther",c=Friendly.GetFormInput(b);c.IsOtherParent="true",a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupport/?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-support-template").tmpl(c.PreexistingSupport);a("#supportOtherWrapper .support-table tbody").append(d),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#supportOtherWrapper table").on("click",".view-children",function(){var b=a(this).attr("data-id");a.ajax({url:"/api/PreexistingSupportChild/"+b+"/?format=json",type:"GET",success:function(c){if(c.length!==0){a("#childOtherWrapper .child-table tbody").empty();var d=a("#friendly-childsupport-template").tmpl(c.Children);a("#childOtherWrapper .child-table tbody").append(d),a("#childOtherWrapper .child-table").show()}else a("#childOtherWrapper .child-table").hide();a("#childOtherWrapper #supportId").val(b),a("#childOtherWrapper").show()},error:Friendly.GenericErrorMessage})}),a("#addChildSupportOther").click(function(){Friendly.StartLoading();var b="childOther",c=Friendly.GetFormInput();c.PreexistingSupportId=a("#childOtherWrapper #supportId").val(),c.IsOtherParent="true",a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupportChild?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.Child);a("#childOtherWrapper .child-table tbody").append(d),a("#childOtherWrapper .child-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-part8").click(function(){Friendly.NextForm("otherChildrenOther",Friendly.properties.iconSuccess)}),a(".financial-part9").click(function(){if(a("#otherChildOtherWrapper").is(":visible"))return Friendly.ValidateForms(".financial-part9"),!1;Friendly.StartLoading();var b=Friendly.GetFormInput("otherChildrenOther");a("#otherChildrenOther").valid()&&a.ajax({url:"/api/OtherChildren/?format=json",type:"POST",data:b,success:function(c){b.LegallyResponsible==="1"&&b.AtHome==="1"&&b.Support==="1"&&b.Preexisting==="2"&&b.InCourt==="2"?(a("#otherChildOtherWrapper #childrenId").val(c.Id),a("#otherChildOtherWrapper").show()):Friendly.ValidateForms(".financial-part9"),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#addOtherChildOther").click(function(){Friendly.StartLoading();var b="otherchildOther",c=Friendly.GetFormInput(b);c.OtherChildrenId=a("#otherChildOtherWrapper #childrenId").val(),a("#"+b).valid()&&a.ajax({url:"/api/OtherChild?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.OtherChild);a("#otherChildOtherWrapper .otherChild-table tbody").append(d),a("#otherChildOtherWrapper .otherChild-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()})})