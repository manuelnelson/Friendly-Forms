$(function(a){a(".financial-part1").click(function(){Friendly.SubmitForm("income","socialSecurity")}),a('#income input[name="Employed"]').change(function(){a("#income #Salary").val(""),a("#income #Employed:checked").val()==="1"?a("#income .income-employed").show():a("#income .income-employed").hide()}),a('#income input[name="SelfEmployed"]').change(function(){a("#income #SelfIncome").val(""),a("#income #SelfEmployed:checked").val()==="1"?a("#income .income-self").show():a("#income .income-self").hide()}),a('#income input[name="SelfTax"]').change(function(){a("#income #SelfTaxAmount").val(""),a("#income #SelfTax:checked").val()==="1"?a("#income .income-tax").show():a("#income .income-tax").hide()}),a('#income input[name="OtherSources"]').change(function(){a("#income #OtherSources:checked").val()==="1"?a("#income .income-other").show():a("#income .income-other").hide()}),a(".financial-part2").click(function(){Friendly.SubmitForm("socialSecurity","preexistingSupport")}),a('#socialSecurity input[name="ReceiveSocial"]').change(function(){a("#socialSecurity #Amount").val(""),a("#socialSecurity #ReceiveSocial:checked").val()==="1"?a("#socialSecurity .social-social").show():a("#socialSecurity .social-social").hide()}),a('#preexistingSupport input[id="PreexistingSupportViewModel_Support"]').change(function(){a('#preexistingSupport input[id="PreexistingSupportViewModel_Support"]:checked').val()==="1"?a("#supportWrapper").show():a("#supportWrapper").hide()}),a("#addSupport").click(function(){Friendly.StartLoading();var b="support",c=Friendly.GetFormInput(b);a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupport/?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-support-template").tmpl(c.PreexistingSupport);a("#supportWrapper .support-table tbody").append(d),a("#supportWrapper .support-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#supportWrapper table").on("click",".view-children",function(){var b=a(this).attr("data-id");a.ajax({url:"/api/PreexistingSupportChild/"+b+"/?format=json",type:"GET",success:function(c){if(c.Children.length!==0){a("#childWrapper .child-table tbody").empty();var d=a("#friendly-childsupport-template").tmpl(c.Children);a("#childWrapper .child-table tbody").append(d),a("#childWrapper .child-table").show()}else a("#childWrapper .child-table").hide();a("#childWrapper #supportId").val(b),a("#childWrapper").show()},error:Friendly.GenericErrorMessage})}),a("#addChildSupport").click(function(){Friendly.StartLoading();var b="child",c=Friendly.GetFormInput(b);c.PreexistingSupportId=a("#childWrapper #supportId").val(),a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupportChild?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.Child);a("#childWrapper .child-table tbody").append(d),a("#childWrapper .child-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-part3").click(function(){Friendly.NextForm("otherChildren",Friendly.properties.iconSuccess)}),a(".financial-part4").click(function(){if(a("#otherChildWrapper").is(":visible"))return Friendly.NextForm("specialCircumstances",Friendly.properties.iconSuccess),!1;Friendly.StartLoading();var b=Friendly.GetFormInput("otherChildren");a("#otherChildren").valid()&&a.ajax({url:"/api/OtherChildren/?format=json",type:"POST",data:b,success:function(c){b.LegallyResponsible==="1"&&b.AtHome==="1"&&b.Support==="1"&&b.Preexisting==="2"&&b.InCourt==="2"?(a("#otherChildWrapper #childrenId").val(c.OtherChildren.Id),a("#otherChildWrapper").show()):Friendly.NextForm("specialCircumstances",Friendly.properties.iconSuccess),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#addOtherChild").click(function(){Friendly.StartLoading();var b="otherchild",c=Friendly.GetFormInput(b);c.OtherChildrenId=a("#otherChildWrapper #childrenId").val(),a("#"+b).valid()&&a.ajax({url:"/api/"+b+"?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.OtherChild);a("#otherChildWrapper .otherChild-table tbody").append(d),a("#otherChildWrapper .otherChild-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-part5").click(function(){Friendly.SubmitForm("specialCircumstances","incomeOther")}),a('input[name="Circumstances"]').change(function(){a("#Circumstances:checked").val()==="1"?a(".circumstance-other").show():a(".circumstance-other").hide()}),a('#incomeOther input[name="Employed"]').change(function(){a("#incomeOther #Salary").val(""),a("#incomeOther #Employed:checked").val()==="1"?a("#incomeOther .income-employed").show():a("#incomeOther .income-employed").hide()}),a('#incomeOther input[name="SelfEmployed"]').change(function(){a("#incomeOther #SelfIncome").val(""),a("#incomeOther #SelfEmployed:checked").val()==="1"?a("#incomeOther .income-self").show():a("#incomeOther .income-self").hide()}),a('#incomeOther input[name="SelfTax"]').change(function(){a("#incomeOther #SelfTaxAmount").val(""),a("#incomeOther #SelfTax:checked").val()==="1"?a("#incomeOther .income-tax").show():a("#incomeOther .income-tax").hide()}),a('#incomeOther input[name="OtherSources"]').change(function(){a("#incomeOther #OtherSources:checked").val()==="1"?a("#incomeOther .income-other").show():a("#incomeOther .income-other").hide()}),a(".financial-part6").click(function(){Friendly.SubmitForm("incomeOther","socialSecurityOther")}),a(".financial-part7").click(function(){Friendly.SubmitForm("socialSecurityOther","preexistingSupportOther")}),a('#socialSecurityOther input[name="ReceiveSocial"]').change(function(){a("#socialSecurityOther #Amount").val(""),a("#socialSecurityOther #ReceiveSocial:checked").val()==="1"?a("#socialSecurityOther .social-social").show():a("#socialSecurityOther .social-social").hide()}),a('#preexistingSupportOther input[id="PreexistingSupportViewModel_Support"]').change(function(){a('#preexistingSupportOther input[id="PreexistingSupportViewModel_Support"]:checked').val()==="1"?a("#supportOtherWrapper").show():a("#supportOtherWrapper").hide()}),a("#addSupportOther").click(function(){Friendly.StartLoading();var b="supportOther",c=Friendly.GetFormInput(b);c.IsOtherParent="true",a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupport/?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-support-template").tmpl(c.PreexistingSupport);a("#supportOtherWrapper .support-table tbody").append(d),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#supportOtherWrapper table").on("click",".view-children",function(){var b=a(this).attr("data-id");a.ajax({url:"/api/PreexistingSupportChild/"+b+"/?format=json",type:"GET",success:function(c){if(c.length!==0){a("#childOtherWrapper .child-table tbody").empty();var d=a("#friendly-childsupport-template").tmpl(c.Children);a("#childOtherWrapper .child-table tbody").append(d),a("#childOtherWrapper .child-table").show()}else a("#childOtherWrapper .child-table").hide();a("#childOtherWrapper #supportId").val(b),a("#childOtherWrapper").show()},error:Friendly.GenericErrorMessage})}),a("#addChildSupportOther").click(function(){Friendly.StartLoading();var b="childOther",c=Friendly.GetFormInput();c.PreexistingSupportId=a("#childOtherWrapper #supportId").val(),c.IsOtherParent="true",a("#"+b).valid()&&a.ajax({url:"/api/PreexistingSupportChild?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.Child);a("#childOtherWrapper .child-table tbody").append(d),a("#childOtherWrapper .child-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-part8").click(function(){Friendly.NextForm("otherChildrenOther",Friendly.properties.iconSuccess)}),a(".financial-part9").click(function(){if(a("#otherChildOtherWrapper").is(":visible"))return Friendly.NextForm("specialCircumstancesOther",Friendly.properties.iconSuccess),!1;Friendly.StartLoading();var b=Friendly.GetFormInput("otherChildrenOther");b.IsOtherParent="true",a("#otherChildrenOther").valid()&&a.ajax({url:"/api/OtherChildren/?format=json",type:"POST",data:b,success:function(c){b.LegallyResponsible==="1"&&b.AtHome==="1"&&b.Support==="1"&&b.Preexisting==="2"&&b.InCourt==="2"?(a("#otherChildOtherWrapper #childrenId").val(c.OtherChildren.Id),a("#otherChildOtherWrapper").show()):Friendly.NextForm("specialCircumstancesOther",Friendly.properties.iconSuccess),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a("#addOtherChildOther").click(function(){Friendly.StartLoading();var b="otherchildOther",c=Friendly.GetFormInput(b);c.OtherChildrenId=a("#otherChildOtherWrapper #childrenId").val(),a("#"+b).valid()&&a.ajax({url:"/api/OtherChild?format=json",type:"POST",data:c,success:function(c){var d=a("#friendly-childsupport-template").tmpl(c.OtherChild);a("#otherChildOtherWrapper .otherChild-table tbody").append(d),a("#otherChildOtherWrapper .otherChild-table").show(),a("#"+b)[0].reset(),Friendly.EndLoading()},error:Friendly.GenericErrorMessage}),Friendly.EndLoading()}),a(".financial-part10").click(function(){Friendly.SubmitForm("specialCircumstancesOther","incomeOther")}),a('#circumstanceOther input[name="Circumstances"]').change(function(){a("#circumstanceOther #Circumstances:checked").val()==="1"?a("#circumstanceOther .circumstance-other").show():a("#circumstanceOther .circumstance-other").hide()})})