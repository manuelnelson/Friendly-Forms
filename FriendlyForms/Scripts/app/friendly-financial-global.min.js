window.Financial=window.Financial||{},Financial.GetChildCare=function(a){var b="childCare";$.ajax({url:"/api/"+b+"?ChildId="+a.Id+"&format=json",type:"GET",success:function(c){var d=$("#"+b);d.empty(),c===""&&(c={}),c.Name=a.Name,c.Id=a.Id;var e=$("#friendly-childCare-template").tmpl(c);d.append(e),d.valid()},error:Friendly.GenericErrorMessage})},Financial.AddChildCare=function(a){var b="childCare";a!=null&&$(a).hasClass("next")?Friendly.childNdx++:a!=null&&Friendly.childNdx--;var c=Friendly.GetFormInput(b);c.ChildId=$("#ChildId").val().trim();var d=b+c.ChildId;if(!$("#"+b).valid())return $.jStorage.set(d,c),!1;$.jStorage.deleteKey(d);if(a!=null&&$(a).hasClass("next")&&Friendly.childNdx===Friendly.children.length)return Friendly.SubmitForm(b,"income",c),!1;if(a!=null&&$(a).hasClass("previous")&&Friendly.childNdx<0)return Friendly.SubmitForm(b,"deviations",c),!1;$("#"+b+"Id").length>0&&(c.Id=$("#"+b+"Id").val());var e="POST";return typeof c.Id!="undefined"&&c.Id!="0"&&(e="PUT"),$.ajax({url:"/api/"+b+"/?format=json",type:e,data:c,success:function(){$("html, body").animate({scrollTop:0},"fast");var a=Friendly.children[Friendly.childNdx];Financial.GetChildCare(a)},error:Friendly.GenericErrorMessage}),!0}