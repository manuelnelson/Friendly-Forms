var ClientCtrl=["$scope","$routeParams","$location","clientService","menuService","headerService","userService","courtService","$rootScope",function(a,b,c,d,e,f,g,h,i){a.userAuth=g.getUserAuth(b.userId),a.user=g.getUserData(b.userId),a.court=h.courts.get({UserId:b.userId},function(){}),d.attorneys.getList({ClientUserId:b.userId},function(b){a.authorizedPeople=b;var c=_.pluck(b,"UserId");typeof b!="undefined"&&b.length>0&&g.getUserData(b[0].UserId).then(function(b){g.getLawFirmUsers(b.LawFirmId).then(function(b){_.each(b,function(a){a.hasAccess=c.indexOf(a.Id)>-1}),a.lawFirmUsers=b})})}),a.allowAccess=function(c){if(c.hasAccess)d.clients.save(null,{UserId:c.Id,ClientUserId:b.userId,ChangeNotification:!1,PrintNotification:!1},function(b){d.attorneys.get({Id:b.Id},function(b){a.authorizedPeople.push(b)})});else{var e=_.find(a.authorizedPeople,function(a){return a.UserId==c.Id});d.clients.delete(e,function(){a.authorizedPeople=_.reject(a.authorizedPeople,function(a){return a.UserId==c.Id})})}},a.submit=function(b){if(a.clientForm.$invalid)return},a.notify=function(a){d.clients.update(null,a,function(){})},i.currentScope=a,f.setTitle("Client Profile")}]