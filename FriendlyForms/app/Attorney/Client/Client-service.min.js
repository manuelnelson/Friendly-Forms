FormsApp.factory("clientService",["$resource","userService","$q",function(a,b,c){var d={clients:a("/api/AttorneyClients/clients",{},{get:{method:"GET",params:{format:"json"}},getList:{method:"GET",isArray:!0,params:{format:"json"}},update:{method:"PUT",params:{format:"json"}}}),attorneys:a("/api/AttorneyClients/attorneys",{},{get:{method:"GET",params:{format:"json"}},getList:{method:"GET",isArray:!0,params:{format:"json"}},update:{method:"PUT",params:{format:"json"}}}),getClients:function(a){var e=c.defer();return d.clients.getList({UserId:a},function(a){var c=_.pluck(a,"ClientUserId");c&&c.length>0&&b.userAuths.getList({UserIds:c},function(b){var c=_.map(a,function(a){var c=_.find(b,function(b){return b.CustomId==a.ClientUserId});return{UserId:a.UserId,ClientUserId:a.ClientUserId,CaseNumber:a.CaseNumber,Name:c.DisplayName,CreatedDate:c.CreatedDate}});e.resolve(c)})}),e.promise}};return d}])