var OtherChildCtrl=function(a,b,c,d,e,f,g){a.continuePressed=!1,a.path=c.path(),g.currentScope=a,e.isActive(a.path)||e.setActive(a.path),d.otherChildren.get({UserId:b.userId},function(c){typeof c.Id=="undefined"||c.Id==0?a.otherChildren=$.jStorage.get(a.path):a.otherChildren=c,typeof a.otherChildren!="undefined"&&a.otherChildren.Id>0?d.otherChild.get({OtherChildrenId:b.userId},function(b){b.OtherChildren.length==0?a.children=[]:a.children=b.OtherChildren}):a.children=[]}),a.submit=function(g){var h=b.isOtherParent;if(a.otherChildren.$invalid){e.setSubMenuIconClass(a.path,"icon-pencil icon-red");var i=f.getFormInput("#otherChildren");$.jStorage.set(a.path,i),g||(h?c.path("/Financial/Deviation/"+a.otherChild.UserId):c.path("/Financial/Income/"+a.otherChild.UserId+"/"+!h));return}$.jStorage.deleteKey(a.path),a.otherChildren.UserId=b.userId,a.otherChildren.IsOtherParent=b.isOtherParent,typeof a.otherChildren.Id=="undefined"||a.otherChildren.Id==0?d.otherChildren.save(null,a.otherChildren,function(){e.setSubMenuIconClass(a.path,"icon-ok icon-green"),g||(h?c.path("/Financial/Deviation/"+a.otherChild.UserId):c.path("/Financial/Income/"+a.otherChild.UserId+"/"+!h))}):d.otherChildren.update(null,a.otherChildren,function(){e.setSubMenuIconClass(a.path,"icon-ok icon-green"),g||(h?c.path("/Financial/Deviation/"+a.otherChild.UserId):c.path("/Financial/Income/"+a.otherChild.UserId+"/"+!h))})},a.addOtherChild=function(){a.otherChild.UserId=b.userId,a.otherChild.OtherChildrenId=a.otherChildren.Id,d.otherChild.save(null,a.otherChild,function(b){e.setSubMenuIconClass(a.path,"icon-ok icon-green"),a.children.push(b.OtherChild)})},a.deleteOtherChild=function(b){d.otherChild.delete({Id:b.Id},function(){a.children=_.reject(a.children,function(a){return a.Id==b.Id})})},a.continue=function(){a.submit()}};OtherChildCtrl.$inject=["$scope","$routeParams","$location","otherChildService","menuService","genericService","$rootScope"]