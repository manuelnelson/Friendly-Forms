var ChildCareCtrl=function(a,b,c,d,e,f,g){a.path=c.path(),a.showErrors=!1,a.showMessage=!1,g.currentScope=a,d.children.get({UserId:b.userId},function(c){a.children=c.Children,a.childNdx=_.indexOf(_.pluck(a.children,"Id"),parseInt(b.childId)),a.childName=a.children[a.childNdx].Name,a.menuPath="/Financial/ChildCare/"+b.userId+"/"+a.children[0].Id,e.isActive(a.menuPath)||e.setActive(a.menuPath)}),a.getChildChildCare=function(b){a.childCare=d.childCares.get({ChildId:b},function(){if(typeof a.childCare.Id=="undefined"||a.childCare.Id==0)a.childCare=$.jStorage.get(a.path)})},d.childCareForms.get({UserId:b.userId},function(b){typeof b.Id=="undefined"||b.Id==0?a.childCareForm=$.jStorage.get(a.path):a.childCareForm=b}),a.submit=function(c){if(a.childCareForm.$invalid){e.setSubMenuIconClass(a.path,"icon-pencil icon-red");var g=f.getFormInput("#childCareForm");$.jStorage.set(a.path,g);return}$.jStorage.deleteKey(a.path),a.childCareForm.UserId=b.userId,typeof a.childCareForm.Id=="undefined"||a.childCareForm.Id==0?d.childCareForms.save(null,a.childCareForm,function(){e.setSubMenuIconClass(a.path,"icon-ok icon-green")}):d.childCareForms.update(null,a.childCareForm,function(){e.setSubMenuIconClass(a.path,"icon-ok icon-green")})},a.submitChildCare=function(c){if(a.childCareChildForm.$invalid){e.setSubMenuIconClass(a.menuPath,"icon-pencil icon-red");var g=f.getFormInput("#childCareChildForm");$.jStorage.set(a.path,g),a.showErrors=!0,c&&c();return}$.jStorage.deleteKey(a.path),a.childCare.UserId=b.userId,a.childCare.ChildId=b.childId,typeof a.childCare.Id=="undefined"||a.childCare.Id==0?d.childCares.save(null,a.childCare,function(){c()}):d.childCares.update({Id:a.childCare.Id},a.childCare,function(){c()}),e.setSubMenuIconClass(a.menuPath,"icon-ok icon-green")},a.previousChild=function(){a.submitChildCare(function(){a.childNdx=_.indexOf(_.pluck(a.children,"Id"),parseInt(b.childId));if(a.childNdx<0)return;a.childNdx=a.childNdx-1;var d=a.children[a.childNdx].Id;c.path("/Financial/ChildCare/"+b.userId+"/"+d)})},a.nextChild=function(){a.submitChildCare(function(){a.childNdx=_.indexOf(_.pluck(a.children,"Id"),parseInt(b.childId));if(a.childNdx===a.children.length-1)return;a.childNdx=a.childNdx+1;var d=a.children[a.childNdx].Id;e.setSubMenuIconClass(a.path,"icon-ok icon-green"),c.path("/Financial/ChildCare/"+b.userId+"/"+d)})},a.getChildChildCare(b.childId)};ChildCareCtrl.$inject=["$scope","$routeParams","$location","childCareService","menuService","genericService","$rootScope"]