FormsApp.factory("headerService",["menuService","$location","$resource","userService","constantsService","$routeParams","participantService",function(a,b,c,d,e,f,g){var h={menuGroup:null,hide:function(){h.showFeedbackHeader=!1,h.showOutput=!1},show:function(){h.showFeedbackHeader=!0,h.showOutput=!1},showOutputHeader:function(){h.showFeedbackHeader=!1,h.showOutput=!0},hideOutputHeader:function(){h.showOutput=!1},emails:c("/api/emails/feedback",{},{get:{method:"GET",params:{format:"json"}},update:{method:"PUT",params:{format:"json"}}}),initialize:function(c){c?h.path=c:h.path=b.path(),h.menuGroup=a.getMenuGroupByPath(h.path),h.showFeedbackHeader=!0,h.showOutput=!1},setTitle:function(a){a?h.Title=a:h.menuGroup&&(h.Title=h.menuGroup.subMenuItem?h.menuGroup.subMenuItem.text:h.menuGroup.menuItem.text),d.getCurrentUserSession().then(function(a){if(_.indexOf(a.Roles,e.constants.AdminRole)>-1||_.indexOf(a.Roles,e.constants.AttorneyRole)>-1)typeof f.userId!="undefined"&&f.userId!=a.CustomId?g.participant.get({UserId:f.userId},function(a){a.DefendantsName!=null&&a.DefendantsName!=""&&(h.SecondaryTitle=a.PlaintiffsName+" vs. "+a.DefendantsName)}):h.SecondaryTitle=""}),h.showFeedbackHeader=!0,h.showOutput=!1},setBreadCrumbs:function(){h.levels=[],h.menuGroup&&h.menuGroup.menuItem&&(h.levels.push(h.menuGroup.menuItem),h.menuGroup.subMenuItem&&h.levels.push(h.menuGroup.subMenuItem)),h.showFeedbackHeader=!0},path:null,refresh:function(a){h.initialize(a),h.setTitle(),h.setBreadCrumbs()}};return h}])