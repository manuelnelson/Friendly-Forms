var ScheduleCtrl=function(a,b,c,d,e,f,g){a.storageKey=c.path(),a.schedule=d.schedules.get({UserId:b.userId},function(){if(typeof a.schedule.Id=="undefined"||a.schedule.Id==0)a.schedule=$.jStorage.get(a.storageKey)}),a.submit=function(g){if(a.scheduleForm.$invalid){e.setSubMenuIconClass("Parenting","Schedule","icon-pencil icon-red");var h=f.getFormInput("#scheduleForm");$.jStorage.set(a.storageKey,h),g||c.path("/Parenting/Holiday/"+a.schedule.UserId);return}$.jStorage.deleteKey(a.storageKey),a.schedule.UserId=b.userId,typeof a.schedule.Id=="undefined"||a.schedule.Id==0?d.schedules.save(null,a.schedule,function(){e.setSubMenuIconClass("Parenting","Schedule","icon-ok icon-green"),g||c.path("/Parenting/Holiday/"+a.schedule.UserId)}):d.schedules.update({Id:a.schedule.Id},a.schedule,function(){e.setSubMenuIconClass("Parenting","Schedule","icon-ok icon-green"),g||c.path("/Parenting/Holiday/"+a.schedule.UserId)})},a.nonCustodialChange=function(b){switch(b){case 1:a.schedule.CustodianWeekend=1;break;case 2:a.schedule.CustodianWeekend=4;break;case 3:a.schedule.CustodianWeekend=4;break;case 4:a.schedule.CustodianWeekend=3;break;case 5:a.schedule.CustodianWeekend=5}},a.custodialChange=function(b){switch(b){case 1:a.schedule.NonCustodianWeekend=1;break;case 2:a.schedule.NonCustodianWeekend=4;break;case 3:a.schedule.NonCustodianWeekend=4;break;case 4:a.schedule.NonCustodianWeekend=3;break;case 5:a.schedule.NonCustodianWeekend=5}},g.currentScope=a,e.isActive("Parenting","Schedule")||e.setActive("Parenting","Schedule")};ScheduleCtrl.$inject=["$scope","$routeParams","$location","scheduleService","menuService","genericService","$rootScope"]