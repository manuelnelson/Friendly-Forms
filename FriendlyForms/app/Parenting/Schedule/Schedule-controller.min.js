var ScheduleCtrl=["$scope","$routeParams","$location","scheduleService","menuService","genericService","$rootScope","participantService",function(a,b,c,d,e,f,g,h){a.path=c.path(),a.isLoaded=!1,a.showErrors=!1,h.custody.get({UserId:b.userId},function(b){a.nonCustodialParent=b.CustodyInformation.NonCustodyParentName,a.custodialParent=b.CustodyInformation.CustodyParentName}),a.schedule=d.schedules.get({UserId:b.userId},function(){a.isLoaded=!0;if(typeof a.schedule.Id=="undefined"||a.schedule.Id==0)a.schedule=$.jStorage.get(a.path),a.schedule&&(a.showErrors=!0),a.scheduleForm&&(a.scheduleForm.PickedUp.$dirty=!1,a.scheduleForm.DroppedOff.$dirty=!1)}),a.submit=function(c){if(a.scheduleForm.$invalid){e.setSubMenuIconClass(a.path,"icon-pencil icon-red");var g=f.getFormInput("#scheduleForm");$.jStorage.set(a.path,g),c||e.nextMenu();return}$.jStorage.deleteKey(a.path),a.schedule.UserId=b.userId,typeof a.schedule.Id=="undefined"||a.schedule.Id==0?d.schedules.save(null,a.schedule,function(){e.setSubMenuIconClass(a.path,"icon-ok icon-green"),c||e.nextMenu()}):d.schedules.update({Id:a.schedule.Id},a.schedule,function(){e.setSubMenuIconClass(a.path,"icon-ok icon-green"),c||e.nextMenu()})},a.nonCustodialChange=function(b){switch(b){case 1:a.schedule.CustodianWeekend=1;break;case 2:a.schedule.CustodianWeekend=4;break;case 3:a.schedule.CustodianWeekend=4;break;case 4:a.schedule.CustodianWeekend=3;break;case 5:a.schedule.CustodianWeekend=5}},a.custodialChange=function(b){switch(b){case 1:a.schedule.NonCustodianWeekend=1;break;case 2:a.schedule.NonCustodianWeekend=4;break;case 3:a.schedule.NonCustodianWeekend=4;break;case 4:a.schedule.NonCustodianWeekend=3;break;case 5:a.schedule.NonCustodianWeekend=5}},f.refreshPage(function(){g.currentScope=a})}]