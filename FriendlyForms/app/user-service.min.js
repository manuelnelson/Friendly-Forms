FormsApp.factory("userService",["$resource","$q","$route","$location","$rootScope",function(a,b,c,d,e){var f={userData:null,register:a("/api/userauths/register/",{},{}),roles:a("/api/userauths/addroles/",{},{}),users:a("/api/users/:Id/",{Id:"@Id"},{get:{method:"GET",params:{format:"json"}},getList:{method:"GET",isArray:!0,params:{format:"json"}},update:{method:"PUT",params:{format:"json"}}}),userAuths:a("/api/userauths/",{},{get:{method:"GET",params:{format:"json"}},getList:{method:"GET",isArray:!0,params:{format:"json"}}}),userSession:a("/api/usersession/",{},{get:{method:"GET",cache:!1,params:{format:"json",DateTime:(new Date).getTime()}}}),getCurrentUserSession:function(){var a=b.defer();return f.userSession.get({},function(b){f.userData=b.UserSession,a.resolve(f.userData)}),a.promise},getUserAuth:function(a,c){var d=b.defer();return typeof a!="undefined"&&a!=null&&f.userAuths.get({UserId:a},function(a){d.resolve(a)}),typeof c!="undefined"&&c!=null&&f.userAuths.get({UserAuthId:c},function(a){d.resolve(a)}),d.promise},getUserData:function(a){var c=b.defer();return f.users.get({Id:a},function(a){c.resolve(a)}),c.promise},getLawFirmUsers:function(a){var c=b.defer();return f.users.getList({LawFirmId:a},function(a){c.resolve(a)}),c.promise},getFormUserId:function(){var a=e.$root.currentScope.path;if(c.current.params.userId)return c.current.params.userId;if(a&&a.indexOf("/User/")>-1){var b=/\/(user|User)\/(\d*)/;return a.match(b)[2]}}};return f}])