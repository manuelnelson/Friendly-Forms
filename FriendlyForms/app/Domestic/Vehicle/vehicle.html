<div class="form-vertical wrapper" style="display: none" ng-show="isLoaded">
    <div class="row" ng-controller="VehicleCtrl">
        <div class="col-md-12">
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon"><i class="icon-signal"></i></span>
                    <h5>Vehicles</h5>
                </div>
                <div class="widget-content">
                    <div class="row" ng-show="vehicles.length>0" style="display: block;">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Manufacturer</th>
                                    <th>Model</th>
                                    <th>Year</th>
                                    <th>Owner</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="vehicleAdded in vehicles">
                                    <td ng-show="!(editing && editVehicleId==vehicleAdded.Id)">{{vehicleAdded.Make}}</td>
                                    <td ng-show="!(editing  && editVehicleId==vehicleAdded.Id)">{{vehicleAdded.Model}}</td>
                                    <td ng-show="!(editing && editVehicleId==vehicleAdded.Id)">{{vehicleAdded.Year}}</td>
                                    <td ng-show="!(editing  && editVehicleId==vehicleAdded.Id)">{{vehicleAdded.Owner}}</td>
                                    <td ng-show="editing  && editVehicleId==vehicleAdded.Id">
                                        <input class="form-control" type="text" ng-model="vehicleAdded.Make" />
                                    </td>
                                    <td ng-show="editing  && editVehicleId==vehicleAdded.Id">
                                        <input class="form-control" type="text" ng-model="vehicleAdded.Model" />
                                    </td>
                                    <td ng-show="editing  && editVehicleId==vehicleAdded.Id">
                                        <input class="form-control" type="text" ng-model="vehicleAdded.Year" />
                                    </td>
                                    <td ng-show="editing  && editVehicleId==vehicleAdded.Id">
                                        <input class="form-control" type="text" ng-model="vehicleAdded.Owner" />
                                    </td>
                                    <td>
                                        <button class="btn btn-default-small btn-primary btn" ng-show="!(editing && editVehicleId==vehicleAdded.Id)" title="Edit" ng-click="editVehicle(vehicleAdded)"><i class="icon-white icon-edit"></i></button>
                                        <button class="btn btn-default-small btn-primary btn" ng-show="!(editing && editVehicleId==vehicleAdded.Id)" title="Delete" ng-click="deleteVehicle(vehicleAdded)"><i class="icon-white icon-trash"></i></button>
                                        <button class="btn btn-default-small btn-primary btn" ng-show="editing && editVehicleId==vehicleAdded.Id" title="Done" ng-click="doneEdit(vehicleAdded)"><i class="icon-white icon-ok"></i>Done</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <form id="vehicleFormForm" name="vehicleFormForm" novalidate>
                        <div class="form-group row">
                            <label class="form-question col-xs-12">Is the ownership of any vehicle(s) at issue in this case?</label>
                            <div class="col-lg-12">
                                <label class="radio-inline">Yes<input class="inline" ng-change="submit()" required ng-model="vehicleForm.VehiclesInvolved" name="VehiclesInvolved" type="radio" value="1"></label>
                                <label class="radio-inline">No<input class="inline" ng-change="submit()" required ng-model="vehicleForm.VehiclesInvolved" name="VehiclesInvolved" type="radio" value="2"></label>
                                <div ng-show="vehicleFormForm.VehiclesInvolved.$dirty && vehicleFormForm.VehiclesInvolved.$invalid || (showErrors && vehicleFormForm.VehiclesInvolved.$invalid)">
                                    <span class="form-error" ng-show="vehicleFormForm.VehiclesInvolved.$error.required">Please select an option</span>
                                </div>
                            </div>
                        </div>
                    </form>
                    <form id="addVehicleForm" ng-show="vehicleForm.VehiclesInvolved == 1" name="addVehicleForm" novalidate>
                        <div class="form-group row">
                            <label class="informative col-lg-12">
                                List each vehicle under consideration in this agreement.
                            </label>
                            <label class="form-question col-xs-12">Manufacturer</label>
                            <div class="col-lg-4">
                                <input class="form-control" required ng-pattern="/^(?!.*--)[A-Za-z0-9\.\?=\+\s.[\]@$'()!~:#/&amp;_\-,\%]*$/" ng-model="vehicle.Make" name="Make" placeholder="Manufacturer" type="text" value="">
                                <div ng-show="addVehicleForm.Make.$dirty && addVehicleForm.Make.$invalid || (showAddVehicleErrors && addVehicleForm.Make.$invalid)">
                                    <span class="form-error" ng-show="addVehicleForm.Make.$error.pattern">Only alpha-numeric characters and []@$'()!~:#&amp;_,/-?\% are allowed.</span>
                                    <span class="form-error" ng-show="addVehicleForm.Make.$error.required">The field is required</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="form-question col-xs-12">Model</label>
                            <div class="col-lg-4">
                                <input class="form-control" required ng-model="vehicle.Model" name="Model" ng-pattern="/^(?!.*--)[A-Za-z0-9\.\?=\+\s.[\]@$'()!~:#/&amp;_\-,\%]*$/" placeholder="Model" type="text" value="">
                                <div ng-show="addVehicleForm.Model.$dirty && addVehicleForm.Model.$invalid || (showAddVehicleErrors && addVehicleForm.Model.$invalid)">
                                    <span class="form-error" ng-show="addVehicleForm.Model.$error.pattern">Only alpha-numeric characters and []@$'()!~:#&amp;_,/-?\% are allowed.</span>
                                    <span class="form-error" ng-show="addVehicleForm.Model.$error.required">The field is required</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="form-question col-xs-12">Year</label>
                            <div class="col-lg-4">
                                <input class="form-control" required ng-pattern="/^[0-9]{4}$/" ng-model="vehicle.Year" name="Year" placeholder="Year" type="text" value="">
                                <div ng-show="addVehicleForm.Year.$dirty && addVehicleForm.Year.$invalid || (showAddVehicleErrors && addVehicleForm.Year.$invalid)">
                                    <span class="form-error" ng-show="addVehicleForm.Year.$error.number">This field must be a number.</span>
                                    <span class="form-error" ng-show="addVehicleForm.Year.$error.required">The field is required</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="form-question col-xs-12">Who will have possession of the vehicle</label>
                            <div class="col-lg-4">
                                <input class="form-control" required ng-pattern="/^(?!.*--)[A-Za-z0-9\.\?=\+\s.[\]@$'()!~:#/&amp;_\-,\%]*$/" ng-model="vehicle.Owner" name="Owner" placeholder="Owner" type="text" value="">
                                <div ng-show="addVehicleForm.Owner.$dirty && addVehicleForm.Owner.$invalid || (showAddVehicleErrors && addVehicleForm.Owner.$invalid)">
                                    <span class="form-error" ng-show="addVehicleForm.Owner.$error.pattern">Only alpha-numeric characters and []@$'()!~:#&amp;_,/-?\% are allowed.</span>
                                    <span class="form-error" ng-show="addVehicleForm.Owner.$error.required">The field is required</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="form-question col-xs-12">Will this vehicle be refinanced?</label>
                            <div class="col-lg-12">
                                <div class="radio">
                                    <label>
                                        Yes
                                        <input ng-model="vehicle.Refinanced" name="Refinanced" type="radio" value="1" required></label>
                                </div>
                                <div class="radio">
                                    <label>
                                        No
                                        <input ng-model="vehicle.Refinanced" name="Refinanced" type="radio" value="2" required></label>
                                </div>
                                <div ng-show="addVehicleForm.Refinanced.$dirty && addVehicleForm.Refinanced.$invalid || (showAddVehicleErrors && addVehicleForm.Refinanced.$invalid)">
                                    <span class="form-error" ng-show="addVehicleForm.Refinanced.$error.required">The field is required</span>
                                </div>
                            </div>
                        </div>
                        <div ng-show="vehicle.Refinanced == 1">
                            <div class="form-group row">
                                <label class="form-question col-xs-12">In whose name will the vehicle be refinanced?</label>
                                <div class="col-lg-4">
                                    <select class="form-control" ng-model="vehicle.Name" name="Name" ng-options="custodian for custodian in custodianNames">
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="form-question col-xs-12">By what date will the vehicle be refinanced?</label>
                                <div class="col-lg-4">
                                    <input class="form-control" ui-jq="datepicker" ng-pattern="/^(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)\d\d$/" ng-model="vehicle.RefinanceDate" name="RefinanceDate" placeholder="MM/DD/YYYY" type="text" value="">
                                </div>
                                <div ng-show="addVehicleForm.RefinanceDate.$dirty && addVehicleForm.RefinanceDate.$invalid || (showAddVehicleErrors && addVehicleForm.RefinanceDate.$invalid)">
                                    <span class="form-error" ng-show="addVehicleForm.RefinanceDate.$error.pattern">Date must be in mm/dd/yyyy format.</span>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="form-group row">
                        <div class="col-lg-12">
                            <button ng-click="addVehicle()" ng-show="vehicleForm.VehiclesInvolved == 1" class="btn btn-default btn-primary" value="Add">Add This Vehicle</button>
                            <button class="btn btn-default btn-primary btn-continue" ng-click="continue()" value="Continue">Continue <i class="icon-arrow-right icon-white"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
